{"version":3,"sources":["x-footer.js"],"names":["findOutputForSlider","element","idVal","id","outputs","document","getElementsByTagName","i","length","htmlFor","getSliderOutputPosition","slider","newPlace","minValue","style","window","getComputedStyle","sliderWidth","parseInt","getPropertyValue","getAttribute","newPoint","value","position","factory","define","amd","module","exports","require","jQuery","$","refresh","$s","$t","settings","autoDispose","contains","documentElement","this","timeago","data","prepareData","isNaN","datetime","cutoff","Math","abs","distance","text","inWords","attr","trim","localeTitle","toLocaleString","isTime","date","Date","getTime","timestamp","parse","extend","refreshMillis","allowPast","allowFuture","strings","prefixAgo","prefixFromNow","suffixAgo","suffixFromNow","inPast","seconds","minute","minutes","hour","hours","day","days","month","months","year","years","wordSeparator","numbers","distanceMillis","substitute","stringOrFunction","number","string","isFunction","$l","replace","prefix","suffix","words","round","separator","undefined","join","iso8601","s","elem","get","tagName","toLowerCase","functions","init","dispose","call","refresh_el","proxy","_timeagoInterval","setInterval","update","apply","updateFromDOM","clearInterval","fn","action","options","Error","each","createElement","slice","Array","prototype","splice","defaults","topSpacing","bottomSpacing","className","wrapperClassName","center","getWidthFrom","widthFromWrapper","responsiveWidth","zIndex","$window","$document","sticked","windowHeight","height","scroller","scrollTop","documentHeight","dwh","extra","l","elementTop","stickyWrapper","offset","top","etse","css","stickyElement","outerHeight","currentTop","width","z-index","parent","removeClass","trigger","newTop","newWidth","addClass","stickyWrapperContainer","resizer","methods","o","stickyId","wrapperId","wrapper","wrapAll","outerWidth","marginLeft","marginRight","float","push","setWrapperHeight","setupChangeListeners","MutationObserver","mutations","addedNodes","removedNodes","observe","subtree","childList","addEventListener","unstick","that","unstickyElement","removeIdx","unwrap","attachEvent","sticky","method","arguments","error","setTimeout","sliders","querySelectorAll","forEach","output","classList","newPosition","event","target","on","owlCarousel","autoplay","autoplayTimeout","smartSpeed","autoWidth","loop","nav","items","responsiveClass","responsive","0","400","navText","not","disableSubmit","prop","enableSubmit","getMeta","url","callback","img","Image","src","onload","catChange","checked","find","val","console","log","all","serie","show","hide","seriesCount","state","totalseriescount","seriesLeft","total","serienname","isEdit","overflow","opacity","display","padding","margin","seriesCounterText","seriesCounterTag","prepend","after","html","rules","max","min","hasClass","e","valA","split","ed","today","dd","getDate","mm","getMonth","yyyy","getFullYear","td","largeImg","foundImg","large","dir","substring","lastIndexOf","ext","pop","warning","remove","foto","karikatur","usertype","location","pathname","indexOf","seriesMove","c","newImage","prev","next","zoom","preventDefault","keydown","which","pget","name","regexS","regex","RegExp","tmpURL","href","results","exec","doJuryPager","tag","n","hash","eq","modalPager","m","closest","bind","load","fadeOut","change","is","page","winners","section","shortlist","toggleClass","keyup","keyCode","ajaxState","doAjax","filters","w","y","category","search","pg","paged","pp","per_page","filter_series","setSection","q","series_name","series","ajax","success","post","seriesName","postCaption","catt","seriesClass","winner","winnerBadge","caption","link","thumb","fullname","wt","append","stagger","cYear","t","cache","serializeArray","uid","v","contents","p","tab","history","back","mainH"],"mappings":"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","file":"x-footer.js","sourcesContent":["/**\n * Timeago is a jQuery plugin that makes it easy to support automatically\n * updating fuzzy timestamps (e.g. \"4 minutes ago\" or \"about 1 day ago\").\n *\n * @name timeago\n * @version 1.6.1\n * @requires jQuery v1.2.3+\n * @author Ryan McGeary\n * @license MIT License - http://www.opensource.org/licenses/mit-license.php\n *\n * For usage and examples, visit:\n * http://timeago.yarp.com/\n *\n * Copyright (c) 2008-2017, Ryan McGeary (ryan -[at]- mcgeary [*dot*] org)\n */\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof module === 'object' && typeof module.exports === 'object') {\n    factory(require('jquery'));\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n}(function ($) {\n  $.timeago = function(timestamp) {\n    if (timestamp instanceof Date) {\n      return inWords(timestamp);\n    } else if (typeof timestamp === \"string\") {\n      return inWords($.timeago.parse(timestamp));\n    } else if (typeof timestamp === \"number\") {\n      return inWords(new Date(timestamp));\n    } else {\n      return inWords($.timeago.datetime(timestamp));\n    }\n  };\n  var $t = $.timeago;\n\n  $.extend($.timeago, {\n    settings: {\n      refreshMillis: 60000,\n      allowPast: true,\n      allowFuture: false,\n      localeTitle: false,\n      cutoff: 0,\n      autoDispose: true,\n      strings: {\n        prefixAgo: null,\n        prefixFromNow: null,\n        suffixAgo: \"ago\",\n        suffixFromNow: \"from now\",\n        inPast: 'any moment now',\n        seconds: \"less than a minute\",\n        minute: \"about a minute\",\n        minutes: \"%d minutes\",\n        hour: \"about an hour\",\n        hours: \"about %d hours\",\n        day: \"a day\",\n        days: \"%d days\",\n        month: \"about a month\",\n        months: \"%d months\",\n        year: \"about a year\",\n        years: \"%d years\",\n        wordSeparator: \" \",\n        numbers: []\n      }\n    },\n\n    inWords: function(distanceMillis) {\n      if (!this.settings.allowPast && ! this.settings.allowFuture) {\n          throw 'timeago allowPast and allowFuture settings can not both be set to false.';\n      }\n\n      var $l = this.settings.strings;\n      var prefix = $l.prefixAgo;\n      var suffix = $l.suffixAgo;\n      if (this.settings.allowFuture) {\n        if (distanceMillis < 0) {\n          prefix = $l.prefixFromNow;\n          suffix = $l.suffixFromNow;\n        }\n      }\n\n      if (!this.settings.allowPast && distanceMillis >= 0) {\n        return this.settings.strings.inPast;\n      }\n\n      var seconds = Math.abs(distanceMillis) / 1000;\n      var minutes = seconds / 60;\n      var hours = minutes / 60;\n      var days = hours / 24;\n      var years = days / 365;\n\n      function substitute(stringOrFunction, number) {\n        var string = $.isFunction(stringOrFunction) ? stringOrFunction(number, distanceMillis) : stringOrFunction;\n        var value = ($l.numbers && $l.numbers[number]) || number;\n        return string.replace(/%d/i, value);\n      }\n\n      var words = seconds < 45 && substitute($l.seconds, Math.round(seconds)) ||\n        seconds < 90 && substitute($l.minute, 1) ||\n        minutes < 45 && substitute($l.minutes, Math.round(minutes)) ||\n        minutes < 90 && substitute($l.hour, 1) ||\n        hours < 24 && substitute($l.hours, Math.round(hours)) ||\n        hours < 42 && substitute($l.day, 1) ||\n        days < 30 && substitute($l.days, Math.round(days)) ||\n        days < 45 && substitute($l.month, 1) ||\n        days < 365 && substitute($l.months, Math.round(days / 30)) ||\n        years < 1.5 && substitute($l.year, 1) ||\n        substitute($l.years, Math.round(years));\n\n      var separator = $l.wordSeparator || \"\";\n      if ($l.wordSeparator === undefined) { separator = \" \"; }\n      return $.trim([prefix, words, suffix].join(separator));\n    },\n\n    parse: function(iso8601) {\n      var s = $.trim(iso8601);\n      s = s.replace(/\\.\\d+/,\"\"); // remove milliseconds\n      s = s.replace(/-/,\"/\").replace(/-/,\"/\");\n      s = s.replace(/T/,\" \").replace(/Z/,\" UTC\");\n      s = s.replace(/([\\+\\-]\\d\\d)\\:?(\\d\\d)/,\" $1$2\"); // -04:00 -> -0400\n      s = s.replace(/([\\+\\-]\\d\\d)$/,\" $100\"); // +09 -> +0900\n      return new Date(s);\n    },\n    datetime: function(elem) {\n      var iso8601 = $t.isTime(elem) ? $(elem).attr(\"datetime\") : $(elem).attr(\"title\");\n      return $t.parse(iso8601);\n    },\n    isTime: function(elem) {\n      // jQuery's `is()` doesn't play well with HTML5 in IE\n      return $(elem).get(0).tagName.toLowerCase() === \"time\"; // $(elem).is(\"time\");\n    }\n  });\n\n  // functions that can be called via $(el).timeago('action')\n  // init is default when no action is given\n  // functions are called with context of a single element\n  var functions = {\n    init: function() {\n      functions.dispose.call(this);\n      var refresh_el = $.proxy(refresh, this);\n      refresh_el();\n      var $s = $t.settings;\n      if ($s.refreshMillis > 0) {\n        this._timeagoInterval = setInterval(refresh_el, $s.refreshMillis);\n      }\n    },\n    update: function(timestamp) {\n      var date = (timestamp instanceof Date) ? timestamp : $t.parse(timestamp);\n      $(this).data('timeago', { datetime: date });\n      if ($t.settings.localeTitle) {\n        $(this).attr(\"title\", date.toLocaleString());\n      }\n      refresh.apply(this);\n    },\n    updateFromDOM: function() {\n      $(this).data('timeago', { datetime: $t.parse( $t.isTime(this) ? $(this).attr(\"datetime\") : $(this).attr(\"title\") ) });\n      refresh.apply(this);\n    },\n    dispose: function () {\n      if (this._timeagoInterval) {\n        window.clearInterval(this._timeagoInterval);\n        this._timeagoInterval = null;\n      }\n    }\n  };\n\n  $.fn.timeago = function(action, options) {\n    var fn = action ? functions[action] : functions.init;\n    if (!fn) {\n      throw new Error(\"Unknown function name '\"+ action +\"' for timeago\");\n    }\n    // each over objects here and call the requested function\n    this.each(function() {\n      fn.call(this, options);\n    });\n    return this;\n  };\n\n  function refresh() {\n    var $s = $t.settings;\n\n    //check if it's still visible\n    if ($s.autoDispose && !$.contains(document.documentElement,this)) {\n      //stop if it has been removed\n      $(this).timeago(\"dispose\");\n      return this;\n    }\n\n    var data = prepareData(this);\n\n    if (!isNaN(data.datetime)) {\n      if ( $s.cutoff === 0 || Math.abs(distance(data.datetime)) < $s.cutoff) {\n        $(this).text(inWords(data.datetime));\n      } else {\n        if ($(this).attr('title').length > 0) {\n            $(this).text($(this).attr('title'));\n        }\n      }\n    }\n    return this;\n  }\n\n  function prepareData(element) {\n    element = $(element);\n    if (!element.data(\"timeago\")) {\n      element.data(\"timeago\", { datetime: $t.datetime(element) });\n      var text = $.trim(element.text());\n      if ($t.settings.localeTitle) {\n        element.attr(\"title\", element.data('timeago').datetime.toLocaleString());\n      } else if (text.length > 0 && !($t.isTime(element) && element.attr(\"title\"))) {\n        element.attr(\"title\", text);\n      }\n    }\n    return element.data(\"timeago\");\n  }\n\n  function inWords(date) {\n    return $t.inWords(distance(date));\n  }\n\n  function distance(date) {\n    return (new Date().getTime() - date.getTime());\n  }\n\n  // fix for IE6 suckage\n  document.createElement(\"abbr\");\n  document.createElement(\"time\");\n}));\n\n// Sticky Plugin v1.0.4 for jQuery\n// =============\n// Author: Anthony Garand\n// Improvements by German M. Bravo (Kronuz) and Ruud Kamphuis (ruudk)\n// Improvements by Leonardo C. Daronco (daronco)\n// Created: 02/14/2011\n// Date: 07/20/2015\n// Website: http://stickyjs.com/\n// Description: Makes an element on the page stick on the screen as you scroll\n//              It will only set the 'top' and 'position' of your element, you\n//              might need to adjust the width in some cases.\n\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node/CommonJS\n        module.exports = factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n    var slice = Array.prototype.slice; // save ref to original slice()\n    var splice = Array.prototype.splice; // save ref to original slice()\n\n  var defaults = {\n      topSpacing: 0,\n      bottomSpacing: 0,\n      className: 'is-sticky',\n      wrapperClassName: 'sticky-wrapper',\n      center: false,\n      getWidthFrom: '',\n      widthFromWrapper: true, // works only when .getWidthFrom is empty\n      responsiveWidth: false,\n      zIndex: 'auto'\n    },\n    $window = $(window),\n    $document = $(document),\n    sticked = [],\n    windowHeight = $window.height(),\n    scroller = function() {\n      var scrollTop = $window.scrollTop(),\n        documentHeight = $document.height(),\n        dwh = documentHeight - windowHeight,\n        extra = (scrollTop > dwh) ? dwh - scrollTop : 0;\n\n      for (var i = 0, l = sticked.length; i < l; i++) {\n        var s = sticked[i],\n          elementTop = s.stickyWrapper.offset().top,\n          etse = elementTop - s.topSpacing - extra;\n\n        //update height in case of dynamic content\n        s.stickyWrapper.css('height', s.stickyElement.outerHeight());\n\n        if (scrollTop <= etse) {\n          if (s.currentTop !== null) {\n            s.stickyElement\n              .css({\n                'width': '',\n                'position': '',\n                'top': '',\n                'z-index': ''\n              });\n            s.stickyElement.parent().removeClass(s.className);\n            s.stickyElement.trigger('sticky-end', [s]);\n            s.currentTop = null;\n          }\n        }\n        else {\n          var newTop = documentHeight - s.stickyElement.outerHeight()\n            - s.topSpacing - s.bottomSpacing - scrollTop - extra;\n          if (newTop < 0) {\n            newTop = newTop + s.topSpacing;\n          } else {\n            newTop = s.topSpacing;\n          }\n          if (s.currentTop !== newTop) {\n            var newWidth;\n            if (s.getWidthFrom) {\n                newWidth = $(s.getWidthFrom).width() || null;\n            } else if (s.widthFromWrapper) {\n                newWidth = s.stickyWrapper.width();\n            }\n            if (newWidth == null) {\n                newWidth = s.stickyElement.width();\n            }\n            s.stickyElement\n              .css('width', newWidth)\n              .css('position', 'fixed')\n              .css('top', newTop)\n              .css('z-index', s.zIndex);\n\n            s.stickyElement.parent().addClass(s.className);\n\n            if (s.currentTop === null) {\n              s.stickyElement.trigger('sticky-start', [s]);\n            } else {\n              // sticky is started but it have to be repositioned\n              s.stickyElement.trigger('sticky-update', [s]);\n            }\n\n            if (s.currentTop === s.topSpacing && s.currentTop > newTop || s.currentTop === null && newTop < s.topSpacing) {\n              // just reached bottom || just started to stick but bottom is already reached\n              s.stickyElement.trigger('sticky-bottom-reached', [s]);\n            } else if(s.currentTop !== null && newTop === s.topSpacing && s.currentTop < newTop) {\n              // sticky is started && sticked at topSpacing && overflowing from top just finished\n              s.stickyElement.trigger('sticky-bottom-unreached', [s]);\n            }\n\n            s.currentTop = newTop;\n          }\n\n          // Check if sticky has reached end of container and stop sticking\n          var stickyWrapperContainer = s.stickyWrapper.parent();\n          var unstick = (s.stickyElement.offset().top + s.stickyElement.outerHeight() >= stickyWrapperContainer.offset().top + stickyWrapperContainer.outerHeight()) && (s.stickyElement.offset().top <= s.topSpacing);\n\n          if( unstick ) {\n            s.stickyElement\n              .css('position', 'absolute')\n              .css('top', '')\n              .css('bottom', 0)\n              .css('z-index', '');\n          } else {\n            s.stickyElement\n              .css('position', 'fixed')\n              .css('top', newTop)\n              .css('bottom', '')\n              .css('z-index', s.zIndex);\n          }\n        }\n      }\n    },\n    resizer = function() {\n      windowHeight = $window.height();\n\n      for (var i = 0, l = sticked.length; i < l; i++) {\n        var s = sticked[i];\n        var newWidth = null;\n        if (s.getWidthFrom) {\n            if (s.responsiveWidth) {\n                newWidth = $(s.getWidthFrom).width();\n            }\n        } else if(s.widthFromWrapper) {\n            newWidth = s.stickyWrapper.width();\n        }\n        if (newWidth != null) {\n            s.stickyElement.css('width', newWidth);\n        }\n      }\n    },\n    methods = {\n      init: function(options) {\n        var o = $.extend({}, defaults, options);\n        return this.each(function() {\n          var stickyElement = $(this);\n\n          var stickyId = stickyElement.attr('id');\n          var wrapperId = stickyId ? stickyId + '-' + defaults.wrapperClassName : defaults.wrapperClassName;\n          var wrapper = $('<div></div>')\n            .attr('id', wrapperId)\n            .addClass(o.wrapperClassName);\n\n          stickyElement.wrapAll(wrapper);\n\n          var stickyWrapper = stickyElement.parent();\n\n          if (o.center) {\n            stickyWrapper.css({width:stickyElement.outerWidth(),marginLeft:\"auto\",marginRight:\"auto\"});\n          }\n\n          if (stickyElement.css(\"float\") === \"right\") {\n            stickyElement.css({\"float\":\"none\"}).parent().css({\"float\":\"right\"});\n          }\n\n          o.stickyElement = stickyElement;\n          o.stickyWrapper = stickyWrapper;\n          o.currentTop    = null;\n\n          sticked.push(o);\n\n          methods.setWrapperHeight(this);\n          methods.setupChangeListeners(this);\n        });\n      },\n\n      setWrapperHeight: function(stickyElement) {\n        var element = $(stickyElement);\n        var stickyWrapper = element.parent();\n        if (stickyWrapper) {\n          stickyWrapper.css('height', element.outerHeight());\n        }\n      },\n\n      setupChangeListeners: function(stickyElement) {\n        if (window.MutationObserver) {\n          var mutationObserver = new window.MutationObserver(function(mutations) {\n            if (mutations[0].addedNodes.length || mutations[0].removedNodes.length) {\n              methods.setWrapperHeight(stickyElement);\n            }\n          });\n          mutationObserver.observe(stickyElement, {subtree: true, childList: true});\n        } else {\n          stickyElement.addEventListener('DOMNodeInserted', function() {\n            methods.setWrapperHeight(stickyElement);\n          }, false);\n          stickyElement.addEventListener('DOMNodeRemoved', function() {\n            methods.setWrapperHeight(stickyElement);\n          }, false);\n        }\n      },\n      update: scroller,\n      unstick: function(options) {\n        return this.each(function() {\n          var that = this;\n          var unstickyElement = $(that);\n\n          var removeIdx = -1;\n          var i = sticked.length;\n          while (i-- > 0) {\n            if (sticked[i].stickyElement.get(0) === that) {\n                splice.call(sticked,i,1);\n                removeIdx = i;\n            }\n          }\n          if(removeIdx !== -1) {\n            unstickyElement.unwrap();\n            unstickyElement\n              .css({\n                'width': '',\n                'position': '',\n                'top': '',\n                'float': '',\n                'z-index': ''\n              })\n            ;\n          }\n        });\n      }\n    };\n\n  // should be more efficient than using $window.scroll(scroller) and $window.resize(resizer):\n  if (window.addEventListener) {\n    window.addEventListener('scroll', scroller, false);\n    window.addEventListener('resize', resizer, false);\n  } else if (window.attachEvent) {\n    window.attachEvent('onscroll', scroller);\n    window.attachEvent('onresize', resizer);\n  }\n\n  $.fn.sticky = function(method) {\n    if (methods[method]) {\n      return methods[method].apply(this, slice.call(arguments, 1));\n    } else if (typeof method === 'object' || !method ) {\n      return methods.init.apply( this, arguments );\n    } else {\n      $.error('Method ' + method + ' does not exist on jQuery.sticky');\n    }\n  };\n\n  $.fn.unstick = function(method) {\n    if (methods[method]) {\n      return methods[method].apply(this, slice.call(arguments, 1));\n    } else if (typeof method === 'object' || !method ) {\n      return methods.unstick.apply( this, arguments );\n    } else {\n      $.error('Method ' + method + ' does not exist on jQuery.sticky');\n    }\n  };\n  $(function() {\n    setTimeout(scroller, 0);\n  });\n}));\n\n// Find output DOM associated to the DOM element passed as parameter\nfunction findOutputForSlider( element ) {\n   var idVal = element.id;\n   outputs = document.getElementsByTagName( 'output' );\n   for( var i = 0; i < outputs.length; i++ ) {\n     if ( outputs[ i ].htmlFor == idVal )\n       return outputs[ i ];\n   }\n}\n\nfunction getSliderOutputPosition( slider ) {\n  // Update output position\n  var newPlace,\n      minValue;\n\n  var style = window.getComputedStyle( slider, null );\n  // Measure width of range input\n  sliderWidth = parseInt( style.getPropertyValue( 'width' ), 10 );\n\n  // Figure out placement percentage between left and right of input\n  if ( !slider.getAttribute( 'min' ) ) {\n    minValue = 0;\n  } else {\n    minValue = slider.getAttribute( 'min' );\n  }\n  var newPoint = ( slider.value - minValue ) / ( slider.getAttribute( 'max' ) - minValue );\n\n  // Prevent bubble from going beyond left or right (unsupported browsers)\n  if ( newPoint < 0 ) {\n    newPlace = 0;\n  } else if ( newPoint > 1 ) {\n    newPlace = sliderWidth;\n  } else {\n    newPlace = sliderWidth * newPoint;\n  }\n\n  return {\n    'position': newPlace + 'px'\n  }\n}\n\ndocument.addEventListener( 'DOMContentLoaded', function () {\n  // Get all document sliders\n  var sliders = document.querySelectorAll( 'input[type=\"range\"].slider' );\n  [].forEach.call( sliders, function ( slider ) {\n    var output = findOutputForSlider( slider );\n    if ( output ) {\n      if ( slider.classList.contains( 'has-output-tooltip' ) ) {\n        // Get new output position\n        var newPosition = getSliderOutputPosition( slider );\n\n        // Set output position\n        output.style[ 'left' ] = newPosition.position;\n      }\n\n      // Add event listener to update output when slider value change\n      slider.addEventListener( 'input', function( event ) {\n        if ( event.target.classList.contains( 'has-output-tooltip' ) ) {\n          // Get new output position\n          var newPosition = getSliderOutputPosition( event.target );\n\n          // Set output position\n          output.style[ 'left' ] = newPosition.position;\n        }\n\n        // Update output with slider value\n        output.value = event.target.value;\n      } );\n    }\n  } );\n} );\n\n// ==== FOOTER ==== //\n\n\n// A simple wrapper for all your custom jQuery that belongs in the footer\n;(function($){\n  $(function(){\n\n    headerStuff();\n    carouselInit();\n    uploadFormStuff();\n    regFormHacks();\n    juryZoom();\n    jury_system();\n\n    // set default filters\n    var today = new Date();\n    var page, winners, query, section, shortlist;\n\n    if( $('body').hasClass('page-id-78') ) { page = 'teilnehmer'; }\n    else if( $('body').hasClass('page-id-82') ) { page = 'archiv'; }\n    else if( $('body').hasClass('page-id-199') ) { page = 'shortlist'; }\n    else { page = 'other'; }\n\n\n    // if ($('body').hasClass('page-template-template_upload') || $('body').hasClass('page-template-template_bildwervaltung') || $('body').hasClass('page-template-template_login-register')) {\n    //   // user upload pages\n    //   console.log('user upload page');\n    //   var $buoop = {required:{e:-4,f:-3,o:-3,s:-1,c:-3},insecure:true,unsupported:true,mobile:false,api:2018.10,test:true };\n    //   function $buo_f(){\n    //   var e = document.createElement(\"script\");\n    //   e.src = \"//browser-update.org/update.min.js\";\n    //   document.body.appendChild(e);\n    //   };\n    //   try {document.addEventListener(\"DOMContentLoaded\", $buo_f,false)}\n    //   catch(e){window.attachEvent(\"onload\", $buo_f)}\n    //\n    // }\n\n    $('.dropdown-trigger').on('click', function(){\n      $(this).parent().toggleClass('is-active');\n    });$\n    $('.dropdown-item').on('click', function(){\n      $('.dropdown').removeClass('is-active');\n    });\n\n    $('.modal-close').on('click', function(){\n      $(this).closest('.modal').removeClass('is-active');\n    })\n    $(document).keyup(function(e) {\n      if (e.keyCode === 27) {\n        $('.modal').removeClass('is-active');\n      }\n    });\n\n    function jury_system() {\n      if ($('body').hasClass('page-template-jury_system')) {\n\n        $(window).bind( 'load', function() {\n          var load = $('.loading')\n          load.fadeOut(500);\n          setTimeout(function(){\n            load.remove();\n          }, 550);\n        });\n\n        // bootstrap\n        var total = $('div.user').length;\n        console.log('total = ' + total);\n        if(hash()) { doJuryPager(); }\n        else { window.location.hash = '#1'; }\n        $(window).on('hashchange', function(e) { doJuryPager(); });\n        $('.counter .total').html(total);\n\n        $('a.zoom').on('click', function(){\n          var m = $(this).closest('.wrapper').find('.modal');\n          m.addClass('is-active');\n          var src = m.find('img').data('src');\n          m.find('img').attr('src', src);\n        });\n\n        function pget(name) {\n          var regexS = \"[\\\\?&]\"+name+\"=([^&#]*)\";\n          var regex = new RegExp ( regexS );\n          var tmpURL = window.location.href;\n          var results = regex.exec( tmpURL );\n          if( results == null )\n            return \"\";\n          else\n            return results[1];\n        }\n\n\n        function doJuryPager() {\n          var tag = pget('tag');\n          // console.log('tag: ' + tag);\n          // console.log('show page ' + hash());\n\n          if (!tag) {\n            $('.user.show').removeClass('show');\n            var n = hash() - 1;\n            $('.user').eq(n).addClass('show');\n            $('.counter .count').html(hash());\n          } else if(tag) {\n            $('.user').addClass('show');\n            $('h2.title').hide();\n            $('.hideOnTag').hide();\n          }\n\n\n          if(hash() == 1) {\n            $('button.prev').prop('disabled', true);\n          } else {\n            $('button.prev').prop('disabled', false);\n          }\n          if(hash() == total) {\n            $('button.next').prop('disabled', true);\n          } else {\n            $('button.next').prop('disabled', false);\n          }\n        }\n\n        $('.showname').change(function(e){\n          if($(this).is(\":checked\")) {\n            $('.name-off').hide();\n            $('.name-on').show();\n          } else {\n            $('.name-off').show()\n            $('.name-on').hide();\n          }\n        });\n\n        $('.showinfo').change(function(e){\n          if($(this).is(\":checked\")) {\n            $('.box .text.hide').removeClass('hide');\n          } else {\n            $('.box .text').addClass('hide');\n          }\n        });\n\n        $('button.pager').on('click', function(e) {\n          console.log($(this));\n          if ($(this).hasClass('next')) {\n            window.location.hash = '#' + next();\n          } else {\n            window.location.hash = '#' + prev();\n          }\n        });\n\n        $(document).keydown(function(e) {\n          switch(e.which) {\n            case 37: // left\n              modalPager('prev');\n            break;\n            case 39: // right\n              modalPager('next');\n            break;\n            default: return; // exit this handler for other keys\n          }\n          e.preventDefault();\n        });\n        function modalPager(dir) {\n          var m = $('.modal.is-active');\n          m.removeClass('is-active');\n          if (dir == 'prev') {\n            var l = m.closest('.box').parent().prev().find('.modal');\n            l.addClass('is-active');\n            var src = l.find('img').data('src');\n            l.find('img').attr('src', src);\n          }\n          if (dir == 'next') {\n            var l = m.closest('.box').parent().next().find('.modal');\n            l.addClass('is-active');\n            var src = l.find('img').data('src');\n            l.find('img').attr('src', src);\n          }\n\n        }\n\n        function prev() {\n          if (hash() > 1) {\n            return hash() - 1;\n          } else {\n            return 1;\n          }\n        }\n\n        function next() {\n          if (hash() < total) {\n            return hash() + 1;\n          } else {\n            return total;\n          }\n        }\n\n        function hash() {\n          return parseInt(window.location.hash.substring(1));\n        }\n\n      } // end if page jury_system\n    } // end jury_system()\n\n    function juryZoom() {\n      $('a.zoom').on('click', function(e) {\n        $(this).parent().addClass('current');\n        const zoom = $(this).data('zoom');\n        const img = '<img src=\"' + zoom + '\">';\n        $('#zoom .image').html(img);\n        $('#zoom').show();\n        e.preventDefault();\n      });\n\n      $('#zoom .close').on('click', function(e) {\n        $('#zoom').hide();\n        $('#zoom .image img').remove();\n        $('.current').removeClass('current');\n        e.preventDefault();\n      });\n\n      $(document).keydown(function(e) {\n        switch(e.which) {\n          case 37: // left\n            seriesMove('prev');\n          break;\n          case 39: // right\n            seriesMove('next');\n          break;\n          default: return; // exit this handler for other keys\n        }\n        e.preventDefault();\n      });\n\n      function seriesMove(dir) {\n        var c = $('.series-image.current');\n        var newImage = null;\n\n        if (dir == 'prev' && c.prev().length) {\n          newImage = c.prev().find('a.zoom').data('zoom');\n          $('.series-image.current').removeClass('current');\n          c.prev().addClass('current');\n        } else if (dir == 'next' && c.next().length) {\n          newImage = c.next().find('a.zoom').data('zoom');\n          $('.series-image.current').removeClass('current');\n          c.next().addClass('current');\n        }\n\n        // console.log(newImage);\n\n        if (newImage !== null) {\n          const img = '<img src=\"' + newImage + '\">';\n          $('#zoom .image').html(img);\n        }\n      }\n    }\n\n    console.log('WP API > '+page);\n\n    wpAPIstuff2();\n\n    $('.past-years.notice').on('click', function(){\n      var t = $(this).closest('section');\n      if( ! t.hasClass('is-active') ) {\n        // open\n        t.addClass('is-active')\n        $(this).parent().find('.fetch.wait').trigger('fetchit');\n      } else {\n        // close\n        t.removeClass('is-active');\n      }\n    });\n\n    $('.single-info .back').on('click', function(){\n      window.history.back();\n    });\n\n\n\n\n    function wpAPIstuff2() {\n\n      var target = '#results'; // default\n\n      // set winners bool depending on page\n      if(page == 'teilnehmer') {\n        winners = 'EXCLUDE,photo_prize_first,das_scharfe_sehen_1,cartoon_prize_1,cartoon_prize_2,cartoon_prize_3'; // ,photo_public,cartoon_public\n      }\n      else if(page == 'archiv') {\n        // winners = 'INCLUDE,photo_prize_first,das_scharfe_sehen_1,das_scharfe_sehen_2,cartoon_prize_1,cartoon_prize_2,cartoon_prize_3,series_prize_1';\n        winners = 'INCLUDE,das_scharfe_sehen_1,das_scharfe_sehen_2,cartoon_prize_1,cartoon_prize_2,cartoon_prize_3,series_prize_1,photo_prize_first,photo_prize_2,photo_prize_3,photo_public,cartoon_public';\n        section = $('#archiv').data('section');\n        target = '.section.winners .columns';\n      }\n      else if(page == 'shortlist') {\n        winners = null;\n        shortlist = true;\n      }\n      else { winners = null; }\n      // console.log('winners');\n\n      $('.tabs li:first').addClass('is-active');\n      \n      var catt = $('.tabs li:first').data('category');\n      if(catt) catt = catt.toLowerCase();\n\n      var filters = {\n        target: target,\n        category: catt,\n        year: today.getFullYear() - 1,\n        search: null,\n        page: page,\n        section: section,\n        winners: winners,\n        paged: 1,\n        per_page: 20,\n        filter_series: true,\n        shortlist: shortlist\n      };\n      console.log('filters:');\n      console.log(filters);\n\n\n      // read current filters {} object and update results without text search\n      function ajaxState() {\n        doAjax({\n          target: filters.target,\n          w: filters.winners,\n          y: filters.year,\n          c: filters.category,\n          s: filters.search,\n          pg: filters.paged,\n          pp: filters.per_page,\n          filter_series: filters.filter_series,\n          shortlist: filters.shortlist\n        });\n      }\n\n      function setSection() {\n        var s = filters.section;\n        var w = $('#archiv');\n        console.log('setSection(): ' + s);\n\n        if(s == 'winners') {\n          filters.winners = 'INCLUDE,das_scharfe_sehen_1,das_scharfe_sehen_2,cartoon_prize_1,cartoon_prize_2,cartoon_prize_3,series_prize_1,photo_prize_first,photo_prize_2,photo_prize_3,photo_public,cartoon_public';\n          filters.target = '.section.winners .columns';\n          filters.filter_series = true;\n          filters.search = '';\n          filters.paged = 1;\n          filters.category = '';\n          w.find('*[data-section=\"winners\"]').show();\n          w.find('*[data-section=\"archive\"]').hide();\n        }\n        if(s == 'archive') {\n          filters.winners = null;\n          filters.target = '#results';\n          filters.filter_series = false;\n          filters.search = '';\n          filters.paged = 1;\n          filters.category = 'foto';\n          w.find('*[data-section=\"winners\"]').hide();\n          w.find('*[data-section=\"archive\"]').show();\n        }\n      }\n\n\n      // populate archive with default Ajax category if empty\n      var resultsState = $('#results').data('state');\n      if(resultsState === 'empty') {\n        setSection();\n        ajaxState();\n      }\n      // else if(resultsState == 'winners') {\n      //   ajaxState();\n      //   setSection();\n      // }\n\n\n      $('#searchform').on('submit', function(){\n        var s = $(this).serializeArray();\n        s = s[0];\n        s = s.value;\n        if(!s) { s = null; }\n        filters.search = s;\n        filters.paged = 1;\n        filters.target = '#results';\n        ajaxState();\n        return false;\n      });\n\n      $('.fetch').each(function(){\n        var t = $(this);\n        var target = '#' + t.attr('id');\n        var pp = t.data('pp');\n        if(!pp) { pp = 20; }\n\n        t.on('fetchit', function(){\n          console.log('fetchit: ' + $(this).attr('id'));\n          doAjax({\n            target: target,\n            y: t.data('y'),\n            c: t.data('c'),\n            s: t.data('s'),\n            uid: t.data('uid'),\n            series_name: t.data('series'),\n            pg: 1,\n            pp: pp,\n            filter_series: true\n          });\n          t.removeClass('fetchit');\n        });\n\n        if( ! t.hasClass('wait') ) {\n          t.trigger('fetchit')\n        }\n      });\n\n      $('.slider-section .slider').on('change', function(){\n        var v = $('#filterYear').contents().text();\n        console.log(v);\n        if(filters.section !== 'winners') {\n          filters.target = '#results';\n        }\n        filters.year = v;\n        $('.more').remove();\n\n        if(v < 2017) {\n          $('.series_archive_wrapper').hide();\n        } else {\n          $('.series_archive_wrapper').show();\n        }\n\n        ajaxState();\n      });\n\n      $('#load-more').on('click', function(){\n        $('#results').append('<div class=\"more columns is-multiline\"/>');\n        filters.paged = filters.paged + 1;\n        filters.target = '#results .more:last';\n        ajaxState();\n      });\n\n      function doAjax(q) {\n        console.log('doAjax');\n        console.log(q);\n\n        var target = q.target;\n\n        if(q.series_name) {\n          var series = true;\n        } else {\n          var series = false;\n        }\n\n        if(filters.section == 'winners') {\n          $(target+' .column .inner').remove();\n          $(target+' .column').removeClass('loaded');\n        } else {\n          $(target+' .column').remove();\n        }\n\n        $(target).addClass('is-loading');\n\n        $.ajax( {\n          method: 'GET',\n          data: q,\n          url: '/wp-json/relevanssi/v2/fetch',\n          /*    /wp-json/entries/v2/search?winners=true&year=2013&category=foto\n          */\n          success: function(data) {\n                                      console.log(data);\n            $(target).removeClass('is-loading');\n\n            if(data[0] !== 'nada') {\n\n              for(var i=0; i<data.length; i++) {\n                var post = data[i];\n\n                var seriesName = '';\n                var postCaption = '';\n\n                var catt = post.category;\n                if(catt) catt = catt.toLowerCase();\n\n                if(post.series_name && catt === 'serie') {\n                  seriesName = '<div class=\"series\">' + post.series_name + '</div>';\n                  var seriesClass = ' series-icon';\n                } else {\n                  var seriesClass = '';\n                }\n\n                if(post.winner) {\n                  var winnerBadge = ' badge-' + post.winner;\n                } else {\n                  var winnerBadge = '';\n                }\n\n                postCaption = '<div class=\"caption\">' + post.caption + '</div><div class=\"shade\"></div>';\n\n                if(post.series_name && catt === 'serie') {\n                  var img = '<a href=\"' + post.link + '\" target=\"_blank\"><div class=\"'+winnerBadge+'\"><div class=\"image' + seriesClass + '\" style=\"background-image: url(' + post.thumb + ')\">&nbsp;</div></div><div class=\"name\">' + post.fullname + ' <span class=\"year\">(' + post.year + ')</span></div></a>' + seriesName + postCaption;\n                } else {\n                  var img = '<a href=\"' + post.link + '\" target=\"_blank\"><div class=\"image' + seriesClass + winnerBadge + '\" style=\"background-image: url(' + post.thumb + ')\">&nbsp;</div><div class=\"name\">' + post.fullname + ' <span class=\"year\">(' + post.year + ')</span></div></a>' + seriesName + postCaption;\n                }\n\n\n                if (filters.section == 'winners') {\n                  img = '<div class=\"inner\">' + img + '</div>';\n                  // $('[data-prize=\"' + post.winner + '\"]').append(img);\n                  var wt = $('[data-prize=\"' + post.winner + '\"]');\n                  if( ! wt.hasClass('loaded') ) {\n                    wt.addClass('loaded').html(img);\n                  }\n                } else if (series) {\n                  var largeImg = '<img src=\"'+ post.large +'\">';\n                  $(target).append('<div class=\"slide\"><span  class=\"watermark photo\">'+ largeImg +'</span></div>');\n                } else {\n                  $(target).append('<div class=\"column is-3\" data-year=\"' + post.year + '\">' + img + '</div>');\n                }\n              }\n\n              setTimeout(function () {\n                var stagger = 0;\n                var cYear = $(target).data('current');\n\n                // console.log('not just winners');\n                $(target + ' .column').each(function(){\n                  var t = $(this);\n                  var tYear = t.data('year');\n                  if( tYear !== cYear || filters.section == 'winners' && !t.is(':empty') ) {\n                    stagger = stagger + 40;\n                    setTimeout(function () {\n                      if( t.is(':hidden') ) t.show();\n                      t.addClass('loaded');\n                    }, stagger);\n                  }\n                  else {\n                    // remove images from the year of the main image on the page\n                    t.hide();\n                  }\n                });\n                $('.pagination.is-hidden').removeClass('is-hidden');\n                $('.loadmore.is-hidden').removeClass('is-hidden');\n              }, 10);\n\n\n            } else {\n              $(target).append('<div class=\"column is-6 is-offset-3 error\"><h1>Keine Treffer</h1></div>');\n              setTimeout(function () {\n                $(target + ' .error').addClass('loaded');\n              }, 10);\n            }\n          },\n          cache: true,\n        } );\n\n      } // end doAjax()\n\n\n      // PAGINATION\n      $('.pagination .arrow').on('click', function(){\n        var t = $(this);\n        var dir = t.data('dir');\n        var p = filters.paged;\n        if(dir == 'next') {\n          // next\n          // dunno how many pages...\n          filters.paged = p + 1;\n          ajaxState();\n        } else {\n          // prev\n          if(p - 1 > 0) {\n            filters.paged = p - 1;\n            ajaxState();\n          }\n        }\n        $('.pagination .page span').text(filters.paged); // ????\n        console.log('page: ' + filters.paged);\n        return false;\n      });\n\n      // change filter object on tab click\n      $('.tabs li').on('click', function(){\n        var tabs = $(this).closest('.tabs');\n        tabs.find('.is-active').removeClass('is-active');\n        $(this).addClass('is-active');\n        var category = $(this).data('category');\n        if(category) category = category.toLowerCase();\n\n        var tab = $(this).data('tab');\n        if(category) {\n          filters.category = category;\n          filters.target = '#results';\n          filters.paged = 1;\n        }\n        else if(tab) {\n          filters.section = tab;\n          setSection();\n        }\n\n        // shortlist hack\n        if(category == 'serie') {\n          console.log('shortlist hack');\n          $('.page-template-page-shortlist .loadmore.opacity0').removeClass('opacity0');\n        } else {\n          $('.page-template-page-shortlist .loadmore').addClass('opacity0');\n        }\n        // shortlist hack remove empties\n        $('.more.columns').each(function(){\n          if(!$(this).html()) {\n            $(this).remove();\n          }\n        });\n\n        ajaxState();\n        return false;\n      });\n\n    } // end wpAPIstuff()\n\n\n\n\n    function headerStuff() {\n      // sticky header\n      $(\"header\").sticky({ topSpacing: 0 });\n\n      // burger menu open\n      $('.navbar-burger').on('click', function() {\n        $(this).addClass('is-active');\n        $('#menu').addClass('is-active');\n      });\n\n      // nav close\n      $('#menu .close').on('click', function() {\n        $('.navbar-burger').removeClass('is-active');\n        $('#menu').removeClass('is-active');\n      });\n    }\n\n    var mainH = $(window).height() - $('#footer').height() - $('#pre-header').height() - $('#header').height();\n    $('#main, .column.side-menu').css('min-height', mainH);\n\n    // remove link to blank post in cms\n    $('.wpuf-dashboard-content.posts tbody tr').each(function(){\n      $(this).find('td:first a').contents().unwrap();\n    });\n\n\n    function carouselInit() {\n      $('.owl-carousel.autoplay').owlCarousel({\n        autoplay: true,\n        autoplayTimeout: 8000,\n        smartSpeed: 1000,\n        autoWidth: false,\n        loop: true,\n        nav: true,\n        items: 1,\n        responsiveClass: true,\n        responsive: { 0: { nav:false }, 400: { nav: true } },\n        navText: [' ', ' ']\n      });\n\n      $('.owl-carousel').not('#prizes-gallery .gallery, .owl-carousel.autoplay, .jury-preview').owlCarousel({\n        autoWidth: false,\n        smartSpeed: 1000,\n        loop: true,\n        nav: true,\n        items: 1,\n        responsiveClass: true,\n        responsive: { 0: { nav:false }, 400: { nav: true } },\n        navText: [' ', ' ']\n      });\n\n      $('#prizes-gallery .gallery').owlCarousel({\n        autoplay: true,\n        autoplayTimeout: 8000,\n        smartSpeed: 2000,\n        autoWidth: true,\n        center: true,\n        loop: true,\n        nav: true,\n        items: 2,\n        responsiveClass: true,\n        responsive: { 0: { nav:false }, 400: { nav: true } },\n        navText: [' ', ' ']\n      });\n\n      $('.jury-preview').owlCarousel({\n        autoWidth: false,\n        smartSpeed: 1000,\n        loop: true,\n        nav: true,\n        items: 1,\n        responsiveClass: true,\n        responsive: { 0: { nav:false }, 400: { nav: true } },\n        navText: [' ', ' ']\n      });\n\n    }\n\n\n\n\n    // Find output DOM associated to the DOM element passed as parameter\n    function findOutputForSlider( element ) {\n       var idVal = element.id;\n       outputs = document.getElementsByTagName( 'output' );\n       for( var i = 0; i < outputs.length; i++ ) {\n         if ( outputs[ i ].htmlFor == idVal )\n           return outputs[ i ];\n       }\n    }\n\n    function getSliderOutputPosition( slider ) {\n      // Update output position\n      var newPlace,\n          minValue;\n\n      var style = window.getComputedStyle( slider, null );\n      // Measure width of range input\n      sliderWidth = parseInt( style.getPropertyValue( 'width' ), 10 );\n\n      // Figure out placement percentage between left and right of input\n      if ( !slider.getAttribute( 'min' ) ) {\n        minValue = 0;\n      } else {\n        minValue = slider.getAttribute( 'min' );\n      }\n      var newPoint = ( slider.value - minValue ) / ( slider.getAttribute( 'max' ) - minValue );\n\n      // Prevent bubble from going beyond left or right (unsupported browsers)\n      if ( newPoint < 0 ) {\n        newPlace = 0;\n      } else if ( newPoint > 1 ) {\n        newPlace = sliderWidth;\n      } else {\n        newPlace = sliderWidth * newPoint;\n      }\n\n      return {\n        'position': newPlace + 'px'\n      }\n    }\n\n    document.addEventListener( 'DOMContentLoaded', function () {\n      // Get all document sliders\n      var sliders = document.querySelectorAll( 'input[type=\"range\"].slider' );\n      [].forEach.call( sliders, function ( slider ) {\n        var output = findOutputForSlider( slider );\n        if ( output ) {\n          if ( slider.classList.contains( 'has-output-tooltip' ) ) {\n            // Get new output position\n            var newPosition = getSliderOutputPosition( slider );\n\n            // Set output position\n            output.style[ 'left' ] = newPosition.position;\n          }\n\n          // Add event listener to update output when slider value change\n          slider.addEventListener( 'input', function( event ) {\n            if ( event.target.classList.contains( 'has-output-tooltip' ) ) {\n              // Get new output position\n              var newPosition = getSliderOutputPosition( event.target );\n\n              // Set output position\n              output.style[ 'left' ] = newPosition.position;\n            }\n\n            // Update output with slider value\n            output.value = event.target.value;\n          } );\n        }\n      } );\n    } );\n\n\n    function uploadFormStuff() {\n      if ( $('body').hasClass('page-id-19949') || $('body').hasClass('page-id-19936') ) {\n        console.log('uploadFormStuff()');\n\n        // $('.wpuf-el').not('.kategorie').hide();\n\n        // ============ date check hack ============\n        // 30. November 2018 bis einschlielich 1. Dezember 2019\n\n        $('#datum_19951').on('input', function(e){\n          var val = $(this).val();\n          console.log(val);\n\n          var sd = 20181130;\n\n          var valA = val.split('.');\n          var day = parseInt(valA[0]);\n          var month = parseInt(valA[1]);\n          var year = parseInt(valA[2]);\n          var ed = parseInt(year*10000 + month*100 + day);\n\n          var today = new Date();\n          var dd = today.getDate();\n          var mm = today.getMonth()+1;\n          var yyyy = today.getFullYear();\n          var td = parseInt(yyyy*10000 + mm*100 + dd);\n\n          console.log('ed = ' + ed);\n          console.log('td = ' + td);\n          \n\n          if (ed <= td && ed >= sd) {\n            console.log('entered date smaller than todays date & entered date is larger than start date');\n            enableSubmit();\n          } else {\n            console.log('date out of range');\n            disableSubmit();\n          }\n\n          // if(year == '2018') {\n          //   if (month == 11 && day == 30) {\n          //     enableSubmit();\n          //   }\n          //   else if(month == 12 ) {\n          //     if (day >= 1 && day <= 31) {\n          //       enableSubmit();\n          //     }\n          //   }\n          // } else if (year == '2019') {\n          //   if (month >= 1 && month <= 11) {\n          //     if (day >= 1 && day <= 31) {\n          //       enableSubmit();\n          //     }\n          //   } else if (month == 12 && day == 1) {\n          //     enableSubmit();\n          //   }\n          // } else {\n          //   disableSubmit();\n          // }\n          \n        });\n\n        function disableSubmit() {\n          $('#datum_19951').css('background', '#FFF5F5');\n          $('.wpuf_submit_19951').prop(\"disabled\", true).css('cursor', 'default');\n        }\n        function enableSubmit() {\n          $('#datum_19951').css('background', '#FFF');\n          $('.wpuf_submit_19951').prop(\"disabled\", false).css('cursor', 'pointer');\n        }\n\n        $('.wpuf-submit-button').on('click', function(){\n          setTimeout(function(){\n            console.log('fix english form errors');\n            $('.wpuf-error-msg').each(function(){\n              var text = $(this).text();\n              console.log(text);\n              if (text == 'Bildbeschriftung is required') $(this).text('Bitte Bildunterschrift hinzufgen')\n              if (text == 'Aufnahmeort is required') $(this).text('Bitte Aufnahmeort hinzufgen')\n              if (text == 'Aufnahmedatum is required') $(this).text('Bitte Aufnahmedatum hinzufgen')\n              if (text == 'Datei is required') $(this).text('Bitte Datei hinzufgen')\n              if (text == 'Please fix the errors to proceed') $(this).text('')\n              if (text == '') $(this).text('Bitte die fehlenden Felder ausfllen um fortzufahren')\n              // if (text == '') $(this).text('')\n\n              // $(this).text(text.replace('', ''))\n            })\n          }, 100);\n        });\n\n        function getMeta(url, callback) {\n            var img = new Image();\n            img.src = url;\n            img.onload = function() { callback(this.width, this.height); }\n        }\n\n        var largeImg = false;\n        $(document).on('DOMSubtreeModified',function(){\n          if (!largeImg) {\n            var img = $('.wpuf-attachment-list .attachment-name img')\n\n            if (img.length) {\n              var src = img.attr('src');\n              if (src) foundImg = true;\n              var large = img.attr('alt');\n              var dir = src.substring(0, src.lastIndexOf(\"/\"));\n              var ext = src.split('.').pop();\n              largeImg = dir + '/' + large + '.' + ext;\n              console.log(largeImg);\n\n              getMeta(largeImg, function(width, height) {\n                // console.log(width + 'px ' + height + 'px');\n                if (width < 1200 && width > 1) {\n                  console.log('too small');\n                  disableSubmit();\n\n                  var warning = $('<div class=\"file-warning\" style=\"color: red; font-weight: bold;\">Dieses Bild ist zu klein. Bitte lade in hherer Auflsung hoch.</div>');\n\n                  if ($('.file-warning').length < 1) {\n                    $('#wpuf-datei-19951-upload-container').after(warning);\n                  }\n\n                  // alert('Dieses Bild ist zu klein. Bitte lade in hherer Auflsung hoch.');\n                  // $('a.attachment-delete').trigger('click');\n\n                  largeImg = false;\n                } else {\n                  $('.file-warning').remove();\n                  enableSubmit();\n                }\n              });\n            }\n          }\n        });\n\n        var state = $('#state').data('state');\n        console.log('---- state -----');\n        console.log(state);\n        console.log('----------------');\n\n        var rules = {\n          foto: { min: 2, max: 4 },\n          serie: { min: 4, max: 6 },\n          karikatur: { min: 2, max: 6 }\n        };\n        // console.log('rules');\n        // console.log(rules);\n\n        if (state.usertype === 'fotograf') {\n          $('input[value=\"karikatur\"]').parent().hide();\n        }\n        if (state.usertype === 'karikaturist') {\n          $('input[value=\"foto\"]').parent().hide();\n          $('input[value=\"serie\"]').parent().hide();\n          $('input[value=\"karikatur\"]').prop('checked', true);\n          catChange();\n        }\n\n        $('.wpuf-el.kategorie').on('change', function(){\n          catChange();\n        });\n\n        var url = window.location.pathname;\n        var isEdit = false\n        if (url.indexOf(\"edit\") >= 0) {\n          isEdit = true;\n          console.log('isEdit');\n          catChange();\n        }\n\n        function catChange() {\n          var checked = $('.kategorie .wpuf-fields').find('input:checked');\n          var val = checked.val();\n          console.log(val);\n\n          var all = $('.datei, .post_title, .datum, .standort, .part-2, .part-3, .wpuf-submit');\n          // var foto = $('.standort');\n          var serie = $('.serienname, .series_counter');\n          // var karikatur = $('.verleger');\n\n          all.show();\n          $('.max').hide();\n\n          if (val == 'foto') {\n            serie.hide(); // karikatur.hide(); foto.show();\n          }\n\n          else if (val == 'serie') {\n            serie.show();\n            var seriesMax = 50;\n            var seriesCount = state.totalseriescount;\n            var seriesLeft = seriesMax - seriesCount;\n\n            // set series name if it exists, disable editing it\n            // also hide if editing\n            // don't hide if there's only one series\n            if (state.total.serie >= 1) {\n              // console.log('honk1');\n              if (state.serienname || isEdit) {\n                // console.log('honk2');\n                $('input[name=\"serienname\"]').val(state.serienname);\n                $('li.serienname').css({ 'overflow': 'hidden', 'height': 0, 'opacity': 0, 'display': 'none !important', 'padding': 0, 'margin': 0 });\n                // $('li.serienname').css({ 'display': 'none !important'});\n              }\n            }\n\n            if (seriesLeft > 0 || state.total.serie > 0 || isEdit) {\n              var seriesCounterText = 'Es wurden bereits ' + seriesCount + ' von 50 mglichen Serien eingereicht.';\n              var seriesCounterTag = '<p class=\"series_counter\" style=\"border: 1px #aaa solid; background: #FFD; padding: 0.5em 1em; margin: 0 0 2em 0; font-size: 0.9em; border-radius: 4px;\">' + seriesCounterText + '</p>';\n\n              if ($('.series_counter').length < 1 && state.total.serie == 0 && !isEdit) {\n                $('.part-2').prepend(seriesCounterTag);\n              }\n\n              serie.show();\n            }\n\n            else {\n              all.hide();\n              var seriesCounterText = 'Das Limit von 50 mglichen Serien-Einsendungen ist bereits erreicht.';\n              var seriesCounterTag = '<p class=\"series_counter\" style=\"border: 1px #aaa solid; background: #FFD; padding: 0.5em 1em; margin: 0 0 2em 0; font-size: 0.9em; border-radius: 4px;\">' + seriesCounterText + '</p>';\n              $('.wpuf-form .wpuf-el:first').after(seriesCounterTag);\n            }\n\n            // foto.hide(); karikatur.hide();\n            $('label[for=\"serienname\"]').html('Serientitel <span class=\"required\">*</span>');\n          }\n\n          else if (val == 'karikatur') {\n            serie.hide(); // foto.hide(); karikatur.show();\n            $('label[for=\"datum\"]').html('Erscheinungsdatum <span class=\"required\">*</span>');\n            $('label[for=\"standort\"]').html('Veroffentlicht in folgender Zeitung <span class=\"required\">*</span>');\n          }\n\n          if (state.total[val] < rules[val].max && state.total[val] < rules.val.min) {\n            // too few\n            console.log('too few '+val);\n          }\n          if (state.total[val] < rules[val].max && state.total[val] > rules.val.min) {\n            // not too few, not too many\n            console.log('not too few, not too many '+val);\n          }\n          if (state.total[val] >= rules[val].max) {\n            // max\n            console.log('max '+val);\n            all.hide();\n            serie.hide();\n\n            if (!$('.error.max').length) {\n              var text = \"Sollten Sie ihre Bildauswahl ndern wollen, lschen Sie bitte zuerst unter &bdquo;Bildaktualisierung&ldquo; die Datei/Dateien, die Sie nicht zum Wettbewerb einreichen mchten und laden dann die neuen Bilddateien hoch.\";\n              $('.kategorie').after('<li class=\"error max\"><p><b>'+text+'</b></p></li>');\n            } else {\n              $('.max').show();\n            }\n\n          }\n\n        }\n\n      }\n    }\n\n\n    function regFormHacks() {\n      if ($('body').hasClass('um-page-register')) {\n        $('#confirm_user_password-20047').attr('placeholder', 'Passwort wiederholen')\n      }\n    }\n\n\n    // .page-id-20012\n    // window.setTimeout(function(){\n      console.log('remove pw txt');\n      $('.um-field-password_reset_text div div').text('Um Ihr Passwort zurckzusetzen, geben Sie bitte Ihre E-Mail-Adresse oder Benutzernamen unten ein.');\n      $('.um-field-username_b input').attr('placeholder', 'Geben Sie Ihren Benutzernamen und Ihre E-Mail-Adresse ein.')\n    // }, 3000)\n\n    // .um-field-block div')\n    // .html('xxx Um Ihr Passwort zurckzusetzen, geben Sie bitte Ihre E-Mail-Adresse oder Benutzernamen unten ein.');\n\n  });\n\n}(jQuery));\n"]}